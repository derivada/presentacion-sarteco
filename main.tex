\documentclass[aspectratio=169]{beamer}
\usetheme[theline=0.92]{CITIUS}

%% Imports
\usepackage[utf8]{inputenc}
\usepackage{lipsum}

%% Definitions
\title{Aplicación de curvas de llenado del espacio en nubes \\ de puntos 3D almacenadas en Octrees}
%\subtitle{A modern approach}
\author{Pablo Díaz, Miguel Yermo, José C. Cabaleiro, Francisco F. Rivera}
\date{Junio 2025}
\def\toctitle{Índice}


%% Uncomment for outline before each section
% \AtBeginSection[] {
%    \begin{frame}[plain]{\toctitle}
%        \tableofcontents[currentsection]
%    \end{frame}
% }

\begin{document}

%% Title page
\begin{frame}[plain]%
    \titlepage%
    
\end{frame}
  
%% Outline page
\begin{frame}[plain]{\toctitle}
    \tableofcontents
\end{frame}
\setcounter{framenumber}{0} %% To count only pages with content

\section{Búsquedas de vecinos}

\begin{frame}{Búsquedas de vecinos}

Dada una nube de puntos tridimensional $P$, un centro $c$ y un radio $r$, buscamos encontrar todos los puntos $q \in P$ con $\left\lVert q-c \right\rVert < r$.

Esta operación extrae la estructura local de la nube, y tiene infinitos usos en el procesado de nubes de puntos: clusterización, segmentación, extracción de propiedades, \dots
% METER DIAGRAMA BÚSQUEDA DE VECINOS / KERNEL
\vspace{2em}

\textbf{Problema:} extraer los vecinos de un gran número de puntos puede ser costoso, y de hecho puede convertirse en el paso más lento dentro del procesado de la nube.
\end{frame}

\begin{frame}{Nubes LiDAR}
    \begin{columns}
        \column{0.5\textwidth}
            \begin{itemize}
                \item Gran tamaño, altamente irregulares en densidad y geometría
                \item Varios tipos (sensor aéreo vs terrestre)
                \item Necesidad de métodos optimizados para el cálculo de vecinos
            \end{itemize}        
        \column{0.5\textwidth}
            % METER IMAGEN NUBE AÉREA Y TERRESTRE
        \end{columns}
\end{frame}

\section{Curvas de llenado del espacio (SFCs)}
\begin{frame}{Curvas de llenado del espacio}
    \begin{itemize}
        \item Normalmente, los datos de las nubes se almacenan como un vector de puntos, con el orden de escaneo del sensor LiDAR $\rightarrow$ \textbf{Mala localidad espacial} 
        \item Puntos muy cercanos en el espacio tridimensional se pueden encontrar muy alejados en memoria
        \item ¿Cómo mejorar la localidad? $\rightarrow$ Reordenando la nube mediante una curva de llenado del espacio \textit{(Space Filling Curve)}
    \end{itemize}
% Poner figura con Nube sin reordenar -> curva -> nube reordenada (abajo del texto para variar)
\end{frame}

\begin{frame}{SFCs de Morton y Hilbert}
    \begin{columns}
        \column{0.5\textwidth}
            \textbf{SFC de Morton}
            % IMAGEN CURVA      
            \begin{itemize}
                \item Presenta saltos, menor localidad
                \item Cálculo en unas pocas instrucciones (LUTs, vectorización)
            \end{itemize}
        \column{0.5\textwidth}
            \textbf{SFC de Hilbert}
            % IMAGEN CURVA   

            \begin{itemize}
                \item Continua, mejor localidad teórica
                \item Cálculo iterativo más lento
            \end{itemize}
        \end{columns}
\end{frame}

\begin{frame}{Reordenando la nube}
    \begin{enumerate}
        \item Discretización: hallar la \textit{bounding box} y trasladar todos los puntos al espacio $S_L = [0,2^L) \times [0, 2^L) \times [0, 2^L) \subset \mathbb{Z}^3$.
        \item Para cada punto $p =(x,y,z) \in S_L$, hallar su código $c$ de Morton o de Hilbert de $3L$ bits, marcando su orden en la curva de profundidad $L$.
        \item Una vez se han hallado todos los códigos, utilizarlos como índice para reordenar la nube.
    \end{enumerate}

    % PONER DIAGRAMA 2D O ALGO ASÍ
\end{frame}

\section{Octrees}
\begin{frame}{Octrees}
    
\end{frame}

\begin{frame}{Relación con las SFCs}
    
\end{frame}

\begin{frame}{Búsquedas de vecinos optimizadas con \textit{cornerstone-octree}}
    
\end{frame}

\section{Resultados}
\begin{frame}{Setup experimental}
    
\end{frame}

\begin{frame}{Búsquedas aleatorias y completas}
    
\end{frame}

\begin{frame}{Conclusiones}
    
\end{frame}

\begin{frame}{Últimos avances}
    
\end{frame}


\begin{frame}{Blocks}
    \begin{block}{Normal block}
        Content
    \end{block}
    \begin{exampleblock}{Example block}
        Such as $\alpha < 0.2$
    \end{exampleblock}
    \begin{alertblock}{Alert block}
        Hola
    \end{alertblock}
\end{frame}

\begin{frame}
\frametitle{Pictures}
\begin{figure}
\includegraphics[scale=0.5]{img/logo_CiTIUS}
\caption{CITIUS Logo}
\end{figure}
\end{frame}

\begin{frame}{Tables}
\begin{table}
\begin{tabular}{l | c | c | c | c }
Competitor Name & Swim & Cycle & Run & Total \\
\hline \hline
John T & 13:04 & 24:15 & 18:34 & 55:53 \\ 
Norman P & 8:00 & 22:45 & 23:02 & 53:47\\
Alex K & 14:00 & 28:00 & n/a & n/a\\
Sarah H & 9:22 & 21:10 & 24:03 & 54:35 
\end{tabular}
\caption{Triathlon results}
\end{table}
\end{frame}

\begin{frame}{Hyperlinks and Buttons}
\hyperlink{contents}{contents page}
Here are some other button commands we can use.

\hyperlink{columns}{\beamergotobutton{columns page}}

\hyperlink{pictures}{\beamerskipbutton{pictures page}}

\hyperlink{pictures}{\beamerreturnbutton{pictures page}}
\end{frame}

\begin{frame}[t]{Top text}
    \lipsum[66]
\end{frame}

\begin{frame}{Using Columns}
    \begin{columns}
    \column{0.5\textwidth}
        \lipsum[66]
    \column{0.5\textwidth}
        \lipsum[66]
    \end{columns}
\end{frame}

% \section{Bibliography}
% \begin{frame}{References}
% \begin{thebibliography}{9}% 2nd arg is the width of the widest label.
% \bibitem{key01}
% Beeblebrox, Zaphod, \textit{Galactic University Press}
% \end{thebibliography}
% \end{frame}

\setbeamertemplate{background}{
    \begin{tikzpicture}
        \node[opacity=.8,inner sep=0pt]{
            \includegraphics[height=\paperheight,width=\paperwidth]{img/background.pdf}};
    \end{tikzpicture}
}
\begin{frame}[plain,noframenumbering]
    \begin{center}
    \begin{minipage}{.75\textwidth}%
        \begin{beamercolorbox}[sep=1em, rounded=false, center]{header citius}%
            \Huge Preguntas?\vspace*{-1ex}%
        \end{beamercolorbox}%
    \end{minipage}
    \\[5pt]
    % \hyperlink{mailto:ismael.rodriguez@usc.es}{ismael.rodriguez@usc.es}

    % \bigskip

    % \begin{tikzpicture}
    %     \node[inner sep=10pt]{
    %         \includegraphics[height=0.15\paperheight]{img/logos_FEDER_2014-2020.pdf}};
    % \end{tikzpicture}\\
    % Fondo Europeo de Desenvolvemento Rexional\\*
    % ``Unha maneira de facer Europa``
  \end{center}

\end{frame}



\end{document}
